{% extends "base/base.html" %}
{% load static %}
{% block css %}
<link rel="stylesheet" href="{% static 'css/butterup.min.css' %}">
{% endblock css %}
{% block title %}Upload{% endblock title %}

{% block navbar %}
<nav class="navbar navbar-expand-lg navbar-dark w-100" id="navbar">
    <div class="container-fluid">
        <a class="navbar-brand" href="#"><img class="rounded-pill" src="{% static 'media/logo.jpeg' %}" width="50"
                height="50" alt=""></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/">Home</a>
                </li>
                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle active" href="#" role="button" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        Products
                    </a>
                    <ul class="dropdown-menu" style="left: 4px;">
                        <li><a class="dropdown-item" href="./analyzer.html">Patient</a></li>
                        <li><a class="dropdown-item" href="./doctor-basic-dash.html">Doctor</a></li>

                    </ul>
                </li>

                <li class="nav-item">
                    <a class="nav-link active" href="#">Blog</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="#">Contact</a>
                </li>
            </ul>
            <div class="d-flex">
                <a href="#" class="btn btn-light rounded-pill me-2" style="font-size: medium; font-weight: 600;">Book a
                    Demo</a>
                <div class="dropdown">
                    <button class="btn btn-light rounded-pill padd" type="button" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                            class="bi bi-person" viewBox="0 0 16 16">
                            <path
                                d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z" />
                        </svg>
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">My profile</a></li>
                        <li><a class="dropdown-item" href="#">Help</a></li>
                        <li><a class="dropdown-item" href="#">Logout</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>
{% endblock navbar %}
{% block content %}
<main class="mvh">
    <div class="container p-4">
        <div class="row w-100" style="min-height: 500px;">
            <div class="col-lg-7 m-2 rounded-2 pre-i p-4" style="background-color: #03193E;">
                <div class="text-center" style="margin-top: 100px;" id="wel-on">
                    <svg xmlns="http://www.w3.org/2000/svg" style="width: 20%;" fill="yellow"
                        class="bi bi-emoji-smile-fill" viewBox="0 0 16 16">
                        <path
                            d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5M4.285 9.567a.5.5 0 0 1 .683.183A3.5 3.5 0 0 0 8 11.5a3.5 3.5 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683M10 8c-.552 0-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5S10.552 8 10 8" />
                    </svg>
                    <p class="text-light info-text">Please drag and drop an X-ray image here or click to <b><label
                                for="fileInput" style="cursor: pointer; color: rgb(0, 170, 255);">upload</label></b></p>
                    <p class="text-light info-tem-sm"><b>Note:</b> Supported image types are X-ray files.</p>
                </div>
                <div class="upload-container w-100" style="display: none;">
                    <div class="drag-drop-area" id="dragDropArea">
                        <svg xmlns="http://www.w3.org/2000/svg" style="width:30%;" fill="white"
                            class="bi bi-cloud-upload" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                d="M4.406 1.342A5.53 5.53 0 0 1 8 0c2.69 0 4.923 2 5.166 4.579C14.758 4.804 16 6.137 16 7.773 16 9.569 14.502 11 12.687 11H10a.5.5 0 0 1 0-1h2.688C13.979 10 15 8.988 15 7.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 2.825 10.328 1 8 1a4.53 4.53 0 0 0-2.941 1.1c-.757.652-1.153 1.438-1.153 2.055v.448l-.445.049C2.064 4.805 1 5.952 1 7.318 1 8.785 2.23 10 3.781 10H6a.5.5 0 0 1 0 1H3.781C1.708 11 0 9.366 0 7.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383" />
                            <path fill-rule="evenodd"
                                d="M7.646 4.146a.5.5 0 0 1 .708 0l3 3a.5.5 0 0 1-.708.708L8.5 5.707V14.5a.5.5 0 0 1-1 0V5.707L5.354 7.854a.5.5 0 1 1-.708-.708z" />
                        </svg>
                        <p>Drag and drop an image here or click to upload</p>
                        <input type="file" id="fileInput" accept="image/*" style="display: none;">
                    </div>
                </div>
                <button id="resetButton" class="btn btn-warning rounded-pill" style="display: none;">Reset</button>
                <!-- Added for the reset functionality -->

                <div id="loadingBar" class="progress" style="display: none; margin-top: 20px;">
                    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"
                        style="width: 0%;"></div>
                </div>
                <div id="previewContainer" style="width: 100%; height: 100%;"></div>
            </div>

            <div class="col-lg-4 m-2 rounded-2" style="background-color: #03193E;">
                <div class="w-100 h-100">

                    <div class="mt-4">
                        <h3 class="text-light mb-3">Hi! <span id="name"></span></h3>
                    </div>
                    <div class="mt-4 d-flex align-items-center justify-content-between">
                        <h4 class="text-light mt-2 mb-3">Current Plan</h4>
                        <h5 class="text-light" style="font-weight: 700;">Basic</h5>
                    </div>
                    <a href="#" class="btn btn-light rounded-pill"> <svg fill="#ffd500" height="20px" width="20px"
                            style="margin-bottom: 5px;" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 220 220" xml:space="preserve"
                            stroke="#ffd500">
                            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                            <g id="SVGRepo_iconCarrier">
                                <path
                                    d="M220,98.865c0-12.728-10.355-23.083-23.083-23.083s-23.083,10.355-23.083,23.083c0,5.79,2.148,11.084,5.681,15.14 l-23.862,21.89L125.22,73.002l17.787-20.892l-32.882-38.623L77.244,52.111l16.995,19.962l-30.216,63.464l-23.527-21.544 c3.528-4.055,5.671-9.344,5.671-15.128c0-12.728-10.355-23.083-23.083-23.083C10.355,75.782,0,86.137,0,98.865 c0,11.794,8.895,21.545,20.328,22.913l7.073,84.735H192.6l7.073-84.735C211.105,120.41,220,110.659,220,98.865z">
                                </path>
                            </g>
                        </svg> Upgrade Plan</a>

                    <div class="mt-5">

                        <div class="text-light d-flex justify-content-between align-items-center" style="cursor: pointer;" data-bs-toggle="collapse"
                            data-bs-target="#collapseWidthExample" aria-expanded="false"
                            aria-controls="collapseWidthExample">
                            <span>Analyze X-Ray</span>
                            <span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"/>
                                  </svg>
                            </span>
                        </div>

                        <div style="min-height: 80px;">
                            <div class="collapse collapse-horizontal show" id="collapseWidthExample">
                                <div class="pt-3" style="width: 100%">
                                    <button id="processButton" disabled class="btn btn-primary rounded-pill" >
                                        <span class="spinner-grow spinner-grow-sm " id="grow" role="status" aria-hidden="true" style="display: none;"></span>
                                        <span class="visually-hidden">Loading...</span>
                                        Start Process  
                                    </button>
                                </div>
                               
                            </div>
                        </div>
                    </div>
                    <div class="mt-3">

                        <div class="text-light d-flex justify-content-between align-items-center" style="cursor: pointer;" data-bs-toggle="collapse"
                            data-bs-target="#report" aria-expanded="false"
                            aria-controls="report">
                            <span>Get Report</span>
                            <span>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708"/>
                                  </svg>
                            </span>
                        </div>

                        <div style="min-height: 80px;">
                            <div class="collapse collapse-horizontal" id="report">
                                <div class="pt-3" style="width: 100%">
                                   <button class="btn btn-primary">Generate Report</button>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>

            </div>
        </div>
    </div>
</main>
{% endblock content %}
{% block footer %}
<footer class="row py-5 my-5 ps-5 border-top container-fluid">
    <div class="col-lg-3 mb-3">
        <a href="/" class="d-flex align-items-center mb-3 link-dark text-decoration-none">
            <img src="./media/logo.png" alt="">
        </a>
        <p class="text-light">© 2023 by BackupDoc.</p>
        <p class="text-light">All Right Reserved <a href="">Privacy and terms</a></p>
    </div>
    <div class="col-lg-3 mb-3">
        <h5 class="text-light" style="font-weight: 900;">AI Based treatment prediction platform</h5>
        <p class="text-light " style="font-family: sans-serif; font-size: small;">

            Address
            Backupdoc
            Af 30 Aditya City center
            ghaziabad
        </p>
    </div>

    <div class="col-lg-4 mb-3">
        <h5 class="text-light" style="font-weight: 900;">Be in the know</h5>
        <p class="text-light " style="font-family: sans-serif; font-size: small;">

            Founded in 2023, BackupDoc is a pioneer in digital dental diagnostics. With a mission to democratize
            health diagnoses and enhance transparency, our platform has already served thousands of satisfied
            users, making dental diagnostics accessible and comprehensible for all. Join us on our journey to
            reshape the future of dental care, one radiograph at a time.
        </p>
    </div>


    <div class="col-lg-1 mb-3">
        <h5 class="text-light" style="font-weight: 900;">Menu</h5>
        <ul class="nav flex-column">
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-light">Home</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-light">Features</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-light">Pricing</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-light">FAQs</a></li>
            <li class="nav-item mb-2"><a href="#" class="nav-link p-0 text-light">About</a></li>
        </ul>
    </div>
</footer>
{% endblock footer %}

{% block scripts %}
<script src="{% static 'js/worker.js' %}"></script>
{% endblock scripts %}